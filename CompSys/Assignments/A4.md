# $\texttt{handle\_retrieve}$

We want to write any retrieved files to the $\texttt{src}$ directory.

We want to send a reply.

**Key tasks**
**2.3** Retrieve a small file. The user should request a file small enough to fit into a single message. For this the example file $\texttt{tiny.txt}$ has been provided, though you are free to test on others. This should be retrieved by the peer and written into its own file storage. The client should validate the received file to check that it has been received correctly.

**2.5** Retrieve a large file. The user should request a file large enough to require several messages to completely send. For this the example file hamlet.txt has been provided, though you are free to test on others. This should be retrieved by the peer and written into its own file storage. The client should validate the recieved file to check that it has been recieved correctly. Note that you should not assume that blocks are recieved in order.

**Implementation progress**
**2.2** With the peer acting as a client, request to retrieve both the small and large file from another peer and appropriately manage any feedback

**2.5** With the peer acting as a server, respond to retrieve requests from another peer and generate appropriate feedback



Client message header:
![[Pasted image 20231123120035.png]]
The command code can have 3 values, along with request bodies:
![[Pasted image 20231123120057.png]]In the case of the $\texttt{Register}$ and $\texttt{Retreive}$ (1 & 2) commands, or if the command could not be determined, a reply will ALWAYS be expected from the other peer.