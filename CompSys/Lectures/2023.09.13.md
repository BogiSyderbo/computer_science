# Reading notes
[COD] 3.1-3.3, 3.5
# Lecture notes

## Biased number representation

**Unsigned**
$$
B 2 U(X)=\sum_{i=0}^{w-1} x_i \cdot 2^i
$$
**Two's complement**
$$
B 2 S(X)=-x_{w-1} \cdot 2^{w-1}+\sum_{i=0}^{w-2} x_i \cdot 2^i
$$
**Biased**
$$
B 2 I(X)=\left(\sum_{i=0}^{w-1} x_i \cdot 2^i\right)-\text { Bias }
$$
*Typically*, $Bias=2^{w-1}-1$.

*Example* for $w=8$, $Bias=127$:
![[Pasted image 20230913102203.png]]
## Integral binary numbers
We have seen that
$$
10010101_2
$$
is basically interpreted like
$$
149_{10}
$$
"Structure" is the same, just with 2 instead of 10 .

*Can we do the same thing for fractional numbers?*
$$
1011.101_2
$$

## Fractional binary numbers
$$
123.456=1 \cdot 10^2+2 \cdot 10^1+3 \cdot 10^0+4 \cdot 10^{-1}+5 \cdot 10^{-2}+6 \cdot 10^{-3}
$$
**Generally**, for *radix* $r$:
$$
a_{m-1} \cdots a_0 \cdot a_{-1} \cdots a_{-n}=\sum_{i=-n}^{m-1} a_i \cdot r^i
$$
**Representation**
![[Pasted image 20230913103243.png]]

- Bits to the right of "binary point" represents fractional powers of 2 .
- Represents rational number.
$$
b_{m-1} \cdots b_0 \cdot b_{-1} \cdots b_{-n}=\sum_{i=-n}^{m-1} b_i \cdot 2^i
$$

**Fractional binary number examples**:
$$
\begin{array}{cc}
5 \frac{3}{4}_{10} & 101.11_2 \\
2 \frac{7}{8}_{10} & 10.111_2 \\
1 \frac{7}{16}_{10} & 1.0111_2
\end{array}
$$
***Observations***
- Divide by 2 by logical shifting right.
- Multiply by 2 by shifting left.
- Numbers of form $0.111 \ldots$ are just below 1.0.
	- $1 / 2+1 / 4+1 / 8+\cdots 1 / 2^n+\cdots \sim 1.0$.
	- Use notation $1.0-\epsilon$.


## Scientific notation
$$3.5\times10^2=350$$
- 3.5 is the *significand*
- 2 is the *exponent*

To keep *significand* in range, adjust *exponent*:
$$
\begin{array}{lll}
35 \times 10^1 & \Rightarrow & 3.5 \times 10^2 \\
0.35 \times 10^3 & \Rightarrow & 3.5 \times 10^2
\end{array}
$$
## Floating Point Representation



**Density of floats**:
![[Pasted image 20230913104141.png]]
https://stackoverflow.com/a/24179424/6131552
## Precision options
![[Pasted image 20230913104303.png]]

## Normalised/denormalised
**Normalised** expected behaviour
**Denormalised** funny behaviour

## Distribution of values
![[Pasted image 20230913111757.png]]
## Summary
- **IEEE floating point has clear properties.**
	- But they may not match your intuition.
- **Represents numbers of the form $M \cdot 2E$.**
- **One can reason about operations independent of implementation**.
	- Computed with perfect precision and then rounded.
	- But rounded after every "*primitive*" operation (e.g. addition, multiplication).
- **Not the same as $\mathbb{Q}/\mathbb{R}$ arithmetic.**
	- Violates associativity and distributivity, mostly due to rounding.
	- Sometimes makes life diffcult for heavy-duty numerical programming.
	- But carefully designed such that "naive" use mostly does what one expects.

### Tools
 https://evanw.github.io/float-toy/
 https://moyix.blogspot.com/2022/09/someones-been-messing-with-my-subnormals.html




# Exercises
**Two's complement**:
https://math.stackexchange.com/questions/1920772/why-twos-complement-works

