# Lecture notes
![[Pasted image 20231101102429.png]]


**Data request**
![[Pasted image 20231101102555.png]]

**Packet sizes**
- Typical web page is 10 kbytes
- On Ethernet, max is 1.5kbytes

## Protocol layering
Arbitrary number of layers, standard is 5.
![[Pasted image 20231101102937.png]]

![[Pasted image 20231101102918.png]]

### Main protocols

#### TCP service
- *Connection-oriented*: setup required between client and server processes
- *reliable transport*
- *flow control*
- *congestion control*
- *does not provide*
	- A guarantee of timing
	- A guarantee of throughput
	- A guarantee of security
*TCP* is feature-rich.
#### UDP Service
- unreliable data transfer
- *does not provide*: connection setup, reliability, flow control, congestion control, timing, throughput, guarantee, or security

Most services use UDP, such as streaming.

## UNIX socket API

## Application Architectures
In P2P has no hierarchy, connections between "peers" instead of central server.
![[Pasted image 20231101104131.png]]
- P2P is highly scalable, but difficult to manage.
- Hybrids are also possible.
### P2P
![[Pasted image 20231101105636.png]]
## HTTP Basics

Layered over bidirectional byte stream

Interaction
- Client sends request to server $\rightarrow$ response from server to client
- Requests/responses are encoded in text

Targets access to web objects:
- GET
- POST
- HEAD
- PUT
- DELETE

**HTTP Request Example**
```HTTP
GET / HTTP/1.1
Host: sns.cs.princeton.edu
Accept: */*
Accept-Language: en-us
Accept-Encoding: gzip, deflate
User-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.5; en-US; 
rv:1.9.2.13) Gecko/20101203 Firefox/3.6.13
Connection: Keep-Alive
```
![[Pasted image 20231101105946.png]]

**HTTP Response Example**
```HTTP
HTTP/1.1 200 OK
Date: Wed, 02 Feb 2011 04:01:21 GMT
Server: Apache/2.2.3 (CentOS)
X-Pingback: http://sns.cs.princeton.edu/xmlrpc.php
Last-Modified: Wed, 01 Feb 2011 12:41:51 GMT
ETag: "7a11f-10ed-3a75ae4a"
Accept-Ranges: bytes
Content-Length: 4333
Keep-Alive: timeout=15, max=100
Connection: Keep-Alive
```

#### Transfer example
![[Pasted image 20231101112646.png]]
ACK = acknowledgement

Inefficient setup...

#### Persistent connection
![[Pasted image 20231101113107.png]]


# Exercises


## Questions
### R3
- For a communication session between a pair of processes, which process is the client and which is the server?

The client initialises and requests data. The server keeps data.
### R4
- Why are the terms client and server still used in peer-to-peer applications?

Peers can "act" as both a server and a client. 
### R5
- What information is used by a process running on one host to identify a process running on another host?

The IP address and port.

![[Pasted image 20231101133554.png]]
The IPv4 protocol  contains a 32-bit IP address to identify the server and client.

Port numbers are also used to identify certain applications, e.g. a Web server is identified by port number 80. A mail server process (using the SMTP protocol) is identified by port number 25.

The *IP address* specifies the device in which I'm connecting to and the *port* defines which process.
### R10
- What is meant by a handshaking protocol?
![[Pasted image 20231101134407.png]]
A handshake protocol establishes a connection between two devices before data exchange.
### R12
- How can websites keep track of users? Do they always need to use cookies?
Nah, we can also use e-tags
### R15
- Are there any constraints on the format of the HTTP body? What about the email message body sent with SMTP? How can arbitrary data be transmitted over SMTP?

## Problems
### P1
#### a
False. There is always one response for one request.

#### b
Using the *keep-alive-flag*, yes.

#### c
No, since a TCP is a single request.

#### d
False. There is a $\texttt{Last modified:}$ header. The $\texttt{Date:}$ header keeps track of when the object was sent.

#### e
False, a HTTP can have an empty message body. A HTTP request can simply consist of headers.

### P4
```HTTP
GET /cs453/index.html HTTP/1.1<cr><lf>Host: gai
a.cs.umass.edu<cr><lf>User-Agent: Mozilla/5.0 (
Windows;U; Windows NT 5.1; en-US; rv:1.7.2) Gec
ko/20040804 Netscape/7.2 (ax) <cr><lf>Accept:ex
t/xml, application/xml, application/xhtml+xml, text
/html;q=0.9, text/plain;q=0.8,image/png,*/*;q=0.5
<cr><lf>Accept-Language: en-us,en;q=0.5<cr><lf>Accept-
Encoding: zip,deflate<cr><lf>Accept-Charset: ISO
-8859-1,utf-8;q=0.7,*;q=0.7<cr><lf>Keep-Alive: 300<cr>
<lf>Connection:keep-alive<cr><lf><cr><lf>
```

#### a
- What is the URL of the document requested by the browser?
gaia.cs.umass.edu/cs453/index.html

This specifies the file
```HTTP
GET /cs453/index.html
```
This specifies the host:
```HTTP
Host: gaia.cs.umass.edu
```
#### b
- What version of HTTP is the browser running?
HTTP 1.1
#### c
- Does the browser request a non-persistent or a persistent connection?

#### d
- What is the IP address of the host on which the browser is running?


### P5
### P10
### P13